@using Vitality.Website.Extensions.Views
@inherits Glass.Mapper.Sc.Web.Mvc.GlassView<Vitality.Website.Areas.Presales.ComponentTemplates.Cards.CardsStacked>

@using (BeginEditFrame(Model, "Edit Background Image", item => item.BackgroundImage))
{
    <div class="cards-stacked @this.BackgroundClass()" style="@this.BackgroundStyle()">
        <div class="spotlight text-light">
            <h2 class="spotlight__heading">
                @Editable(Model, item => item.Headline)
            </h2>

            <div class="spotlight__intro">
                @Editable(Model, item => item.OpeningParagraph)
            </div>

            <ul class="spotlight__list">
                @foreach (var card in Model.Cards)
                {
                    using (BeginEditFrame("/sitecore/content/Applications/WebEdit/Edit Frame Buttons/Subitems", card.Path))
                    {
                        <li class="spotlight__list-item">
                            <div class="spotlight-item">
                                <div class="spotlight-item__top-content">
                                    @if (this.ImageOnTop())
                                    {
                                        <div class="spotlight-item__intro-image burst">
                                            @Editable(card, item => item.Icon, new { mw = 388 })
                                        </div>

                                        <h3 class="spotlight-item__heading">
                                            @Editable(card, item => item.Title)
                                        </h3>
                                    }
                                    else
                                    {
                                        <h3 class="spotlight-item__heading">
                                            @Editable(card, item => item.Title)
                                        </h3>
                                        
                                        <div class="spotlight-item__icon">
                                            @Editable(card, item => item.Icon, new { mw = 388 })
                                        </div>
                                    }

                                    <div class="spotlight-item__content">
                                        <p>@Editable(card, item => item.Text)</p>
                                    </div>
                                </div>

                                <div class="spotlight-item__cta">
                                    @Editable(card, item => item.CallToAction, new { @class = "emphasis-link" })
                                </div>
                            </div>
                        </li>
                    }
                }
            </ul>
        </div>
    </div>
}
