<div class="question" *ngIf="!questionGroup.isHidden" [formGroup]="form">
    <span [innerHTML]="questionGroup.label"> </span>
    <ng-container *ngFor="let question of questionGroup.questions" [ngSwitch]="question.controlType">
        <ng-container *ngSwitchCase="'dropdown'">
            <div class="question--input__select {{question.fieldSize}} {{question.breakline ? 'breakline' : ''}}">
                {{ question.label }}
                <select (change)="triggerFieldAction(question.fieldAction)" [id]="question.key" [formControlName]="question.key" auto-scroll-to [isGroupCompleted]="questionGroup.isCompleted">
                    <option *ngIf="question.placeholder" value="">{{ question.placeholder }}</option>
                    <option *ngFor="let opt of question.relatedData" [value]="opt.key">{{opt.value}}</option>
                </select>
            </div>
        </ng-container>
        <ng-container *ngSwitchCase="'multiselect'">
            <div class="question--input__info">
                {{ question.label }}
            </div>
            <ul class="question--checkbox-list" limit-multi-select *ngFor="let opt of question.relatedData">
                <li >
                    <input [id]="opt.key" auto-scroll-to [isGroupCompleted]="questionGroup.isCompleted" type="checkbox" aria-hidden="true" [formControlName]="question.key" (click)="storeSelectedCheckboxValues($event, opt.value, question)"/>
                    <label for="{{opt.key}}">{{opt.value}}</label>
                </li>
            </ul>
        </ng-container>
        <ng-container *ngSwitchCase="'button'">
            <div class="ok-btn-group">
                <button type="button" class="ok-btn" (click)="triggerFieldAction(question.fieldAction)" auto-scroll-to [isGroupCompleted]="questionGroup.isCompleted">{{ question.label }}</button> <span [innerHTML]="renderingData.okBtnHelpText"> </span>
            </div>
        </ng-container>
        <ng-container *ngSwitchCase="'richText'">
            <div class="question--input__rich-text" (click)="triggerFieldAction(question.fieldAction)" [innerHTML]="question.label | safeHtml"></div>
        </ng-container>
        <ng-container *ngSwitchDefault>
            <div class="question--input__text {{question.fieldSize}} {{question.breakline ? 'breakline' : ''}}" *ngIf="!question.isHidden">
                <input *ngIf="question.mask.length > 0" [formControlName]="question.key" [value]="question.value"
                       [id]="question.key" [type]="question.controlType" placeholder="{{ question.placeholder }}" auto-scroll-to [isGroupCompleted]="questionGroup.isCompleted" mask-number [mask]="question.mask">
                <input *ngIf="question.mask.length <= 0" [formControlName]="question.key" [value]="question.value"
                       [id]="question.key" [type]="question.controlType" placeholder="{{ question.placeholder }}" auto-scroll-to [isGroupCompleted]="questionGroup.isCompleted">
            </div>
        </ng-container>
    </ng-container>
    <div class="ok-btn-group hide">
        <button type="button" tabindex="-1" class="ok-btn" auto-scroll-to [isGroupCompleted]="questionGroup.isCompleted">{{ renderingData.okBtnText }}</button> <span [innerHTML]="renderingData.okBtnHelpText"> </span>
    </div>
    <div class="question--input__info" *ngIf="questionGroup.helpText">{{ questionGroup.helpText}}</div>
    <div class="question--input__error" *ngIf="questionGroup.isInvalid">{{ questionGroup.validationMessage }} </div>
</div>
