import * as moment from "moment/moment";

import { GlobalConstants } from "../constants/global-constants";
export class MomentExtendedService {    static setTime(date: moment.Moment, hour = 0, minute = 0, second = 0, millisecond = 0): moment.Moment {        date.set({            "hour": hour,            "minute": minute,            "second": second,            "millisecond": millisecond        });        return date;    }
    static isSame(date: moment.Moment, dateToCompare: moment.Moment) {        return date.year() === dateToCompare.year() &&            date.month() === dateToCompare.month() &&            date.date() === dateToCompare.date();    }
    //Interval is in minutes    static getRanges(interval: number, from: moment.Moment, to: moment.Moment): any {        const today = moment();
        const isToday = this.isSame(today, from);        const ranges: { key: string; value: string }[] = [];        let incrementer = from.clone();        while (incrementer < to) {            const rangeStart = incrementer.format(GlobalConstants.formats.hoursMinutes);            incrementer = incrementer.add(interval, GlobalConstants.moments.minutes);            if (!isToday || (today < incrementer)) {                const rangeEnd = incrementer > to                    ? to.format(GlobalConstants.formats.hoursMinutes)                    : incrementer.format(GlobalConstants.formats.hoursMinutes);                const rangeString = `${rangeStart}-${rangeEnd}`;                ranges.push({ key: rangeString, value: rangeString });            }        }        return ranges;    }}
